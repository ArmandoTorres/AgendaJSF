<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:composition template="/WEB-INF/template/menu.xhtml">
        <ui:define name="title"><h:outputText value="Editar Usuarios"/></ui:define>
        <ui:define name="content">
            <div class="container">
                <h:dataTable styleClass="table table-hover" 
                             value="#{userDataTableBean.userList}" var="table" id="contactoDataTable">
                    <h:column>
                        <f:facet name="header">#{bundle['application.findContact.table.field1']}</f:facet>
                        #{table.name}
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{bundle['application.findContact.table.field2']}</f:facet>
                        #{table.surname}
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{bundle['application.findContact.table.field5']}</f:facet>
                        #{table.email}
                    </h:column>
                    <h:column>
                        <f:facet name="header"><h:outputText value="Role"/></f:facet>
                        #{table.role}
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{bundle['application.findContact.table.field5']}</f:facet>
                        #{table.status eq 'A' ? 'Activo' : 'Inactivo'}
                    </h:column>                
                    <h:column>
                        <f:facet name="header">#{bundle['application.findContact.table.field6']}</f:facet>
                        <h:form>
                            <h:commandButton value="#{bundle['application.findContact.table.field6.button1']}" 
                                             styleClass="btn btn-default"
                                             immediate="true"
                                             action="#{userDataTableBean.editUserForm(table.id)}"/>
                            <h:outputText value="&#160;"/>
                            <h:commandButton value="#{bundle['application.findContact.table.field6.button2']}" 
                                             styleClass="btn btn-default" immediate="true"
                                             action="#{userDataTableBean.deleteUser(table.email)}">
                            </h:commandButton>    
                        </h:form>    
                    </h:column>
                </h:dataTable>
                <ul class="pager">
                    <h:form>
                        <li class="previous #{userDataTableBean.previousLink}">
                            <h:commandLink value="&#171; Previous"
                                           immediate="true"
                                           action="#{userDataTableBean.previous()}"/>
                        </li>
                        <li class="next #{userDataTableBean.nextLink}">
                            <h:commandLink value="Next &#187;"
                                           immediate="true"
                                           action="#{userDataTableBean.next()}"/>
                        </li>
                    </h:form>    
                </ul>
            </div>
        </ui:define>
    </ui:composition>
</html>